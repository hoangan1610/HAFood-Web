(function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):factory(typeof exports=="object"?require("jquery"):jQuery)})(function($){"use strict";function getInt(x){return typeof x=="string"?parseInt(x,10):~~x}var defaultSettings={wheelSpeed:1,wheelPropagation:!1,swipePropagation:!0,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},incrementingId=0,eventClassFactory=function(){var id=incrementingId++;return function(eventName){var className=".perfect-scrollbar-"+id;return typeof eventName=="undefined"?className:eventName+className}},isWebkit="WebkitAppearance"in document.documentElement.style;$.fn.perfectScrollbar=function(suppliedSettings,option){return this.each(function(){var settings=$.extend(!0,{},defaultSettings),$this=$(this),isPluginAlive=function(){return!!$this};if(typeof suppliedSettings=="object"?$.extend(!0,settings,suppliedSettings):option=suppliedSettings,option==="update")return $this.data("perfect-scrollbar-update")&&$this.data("perfect-scrollbar-update")(),$this;if(option==="destroy")return $this.data("perfect-scrollbar-destroy")&&$this.data("perfect-scrollbar-destroy")(),$this;if($this.data("perfect-scrollbar"))return $this.data("perfect-scrollbar");$this.addClass("ps-container");var containerWidth,containerHeight,contentWidth,contentHeight,isRtl=$this.css("direction")==="rtl",eventClass=eventClassFactory(),ownerDocument=this.ownerDocument||document,$scrollbarXRail=$("<div class='ps-scrollbar-x-rail'>").appendTo($this),$scrollbarX=$("<div class='ps-scrollbar-x'>").appendTo($scrollbarXRail),scrollbarXActive,scrollbarXWidth,scrollbarXLeft,scrollbarXBottom=getInt($scrollbarXRail.css("bottom")),isScrollbarXUsingBottom=scrollbarXBottom===scrollbarXBottom,scrollbarXTop=isScrollbarXUsingBottom?null:getInt($scrollbarXRail.css("top")),railBorderXWidth=getInt($scrollbarXRail.css("borderLeftWidth"))+getInt($scrollbarXRail.css("borderRightWidth")),railXMarginWidth=getInt($scrollbarXRail.css("marginLeft"))+getInt($scrollbarXRail.css("marginRight")),railXWidth,$scrollbarYRail=$("<div class='ps-scrollbar-y-rail'>").appendTo($this),$scrollbarY=$("<div class='ps-scrollbar-y'>").appendTo($scrollbarYRail),scrollbarYActive,scrollbarYHeight,scrollbarYTop,scrollbarYRight=getInt($scrollbarYRail.css("right")),isScrollbarYUsingRight=scrollbarYRight===scrollbarYRight,scrollbarYLeft=isScrollbarYUsingRight?null:getInt($scrollbarYRail.css("left")),railBorderYWidth=getInt($scrollbarYRail.css("borderTopWidth"))+getInt($scrollbarYRail.css("borderBottomWidth")),railYMarginHeight=getInt($scrollbarYRail.css("marginTop"))+getInt($scrollbarYRail.css("marginBottom")),railYHeight;function updateScrollTop(currentTop,deltaY){var newTop=currentTop+deltaY,maxTop=containerHeight-scrollbarYHeight;newTop<0?scrollbarYTop=0:newTop>maxTop?scrollbarYTop=maxTop:scrollbarYTop=newTop;var scrollTop=getInt(scrollbarYTop*(contentHeight-containerHeight)/(containerHeight-scrollbarYHeight));$this.scrollTop(scrollTop)}function updateScrollLeft(currentLeft,deltaX){var newLeft=currentLeft+deltaX,maxLeft=containerWidth-scrollbarXWidth;newLeft<0?scrollbarXLeft=0:newLeft>maxLeft?scrollbarXLeft=maxLeft:scrollbarXLeft=newLeft;var scrollLeft=getInt(scrollbarXLeft*(contentWidth-containerWidth)/(containerWidth-scrollbarXWidth));$this.scrollLeft(scrollLeft)}function getThumbSize(thumbSize){return settings.minScrollbarLength&&(thumbSize=Math.max(thumbSize,settings.minScrollbarLength)),settings.maxScrollbarLength&&(thumbSize=Math.min(thumbSize,settings.maxScrollbarLength)),thumbSize}function updateCss(){var xRailOffset={width:railXWidth};isRtl?xRailOffset.left=$this.scrollLeft()+containerWidth-contentWidth:xRailOffset.left=$this.scrollLeft(),isScrollbarXUsingBottom?xRailOffset.bottom=scrollbarXBottom-$this.scrollTop():xRailOffset.top=scrollbarXTop+$this.scrollTop(),$scrollbarXRail.css(xRailOffset);var railYOffset={top:$this.scrollTop(),height:railYHeight};isScrollbarYUsingRight?isRtl?railYOffset.right=contentWidth-$this.scrollLeft()-scrollbarYRight-$scrollbarY.outerWidth():railYOffset.right=scrollbarYRight-$this.scrollLeft():isRtl?railYOffset.left=$this.scrollLeft()+containerWidth*2-contentWidth-scrollbarYLeft-$scrollbarY.outerWidth():railYOffset.left=scrollbarYLeft+$this.scrollLeft(),$scrollbarYRail.css(railYOffset),$scrollbarX.css({left:scrollbarXLeft,width:scrollbarXWidth-railBorderXWidth}),$scrollbarY.css({top:scrollbarYTop,height:scrollbarYHeight-railBorderYWidth})}function updateGeometry(){$this.removeClass("ps-active-x"),$this.removeClass("ps-active-y"),containerWidth=settings.includePadding?$this.innerWidth():$this.width(),containerHeight=settings.includePadding?$this.innerHeight():$this.height(),contentWidth=$this.prop("scrollWidth"),contentHeight=$this.prop("scrollHeight"),!settings.suppressScrollX&&containerWidth+settings.scrollXMarginOffset<contentWidth?(scrollbarXActive=!0,railXWidth=containerWidth-railXMarginWidth,scrollbarXWidth=getThumbSize(getInt(railXWidth*containerWidth/contentWidth)),scrollbarXLeft=getInt($this.scrollLeft()*(railXWidth-scrollbarXWidth)/(contentWidth-containerWidth))):(scrollbarXActive=!1,scrollbarXWidth=0,scrollbarXLeft=0,$this.scrollLeft(0)),!settings.suppressScrollY&&containerHeight+settings.scrollYMarginOffset<contentHeight?(scrollbarYActive=!0,railYHeight=containerHeight-railYMarginHeight,scrollbarYHeight=getThumbSize(getInt(railYHeight*containerHeight/contentHeight)),scrollbarYTop=getInt($this.scrollTop()*(railYHeight-scrollbarYHeight)/(contentHeight-containerHeight))):(scrollbarYActive=!1,scrollbarYHeight=0,scrollbarYTop=0,$this.scrollTop(0)),scrollbarXLeft>=railXWidth-scrollbarXWidth&&(scrollbarXLeft=railXWidth-scrollbarXWidth),scrollbarYTop>=railYHeight-scrollbarYHeight&&(scrollbarYTop=railYHeight-scrollbarYHeight),updateCss(),scrollbarXActive&&$this.addClass("ps-active-x"),scrollbarYActive&&$this.addClass("ps-active-y")}function bindMouseScrollXHandler(){var currentLeft,currentPageX,mouseMoveHandler=function(e){updateScrollLeft(currentLeft,e.pageX-currentPageX),updateGeometry(),e.stopPropagation(),e.preventDefault()},mouseUpHandler=function(e){$scrollbarXRail.removeClass("in-scrolling"),$(ownerDocument).unbind(eventClass("mousemove"),mouseMoveHandler)};$scrollbarX.bind(eventClass("mousedown"),function(e){currentPageX=e.pageX,currentLeft=$scrollbarX.position().left,$scrollbarXRail.addClass("in-scrolling"),$(ownerDocument).bind(eventClass("mousemove"),mouseMoveHandler),$(ownerDocument).one(eventClass("mouseup"),mouseUpHandler),e.stopPropagation(),e.preventDefault()}),currentLeft=currentPageX=null}function bindMouseScrollYHandler(){var currentTop,currentPageY,mouseMoveHandler=function(e){updateScrollTop(currentTop,e.pageY-currentPageY),updateGeometry(),e.stopPropagation(),e.preventDefault()},mouseUpHandler=function(e){$scrollbarYRail.removeClass("in-scrolling"),$(ownerDocument).unbind(eventClass("mousemove"),mouseMoveHandler)};$scrollbarY.bind(eventClass("mousedown"),function(e){currentPageY=e.pageY,currentTop=$scrollbarY.position().top,$scrollbarYRail.addClass("in-scrolling"),$(ownerDocument).bind(eventClass("mousemove"),mouseMoveHandler),$(ownerDocument).one(eventClass("mouseup"),mouseUpHandler),e.stopPropagation(),e.preventDefault()}),currentTop=currentPageY=null}function shouldPreventWheel(deltaX,deltaY){var scrollTop=$this.scrollTop();if(deltaX===0){if(!scrollbarYActive)return!1;if(scrollTop===0&&deltaY>0||scrollTop>=contentHeight-containerHeight&&deltaY<0)return!settings.wheelPropagation}var scrollLeft=$this.scrollLeft();if(deltaY===0){if(!scrollbarXActive)return!1;if(scrollLeft===0&&deltaX<0||scrollLeft>=contentWidth-containerWidth&&deltaX>0)return!settings.wheelPropagation}return!0}function shouldPreventSwipe(deltaX,deltaY){var scrollTop=$this.scrollTop(),scrollLeft=$this.scrollLeft(),magnitudeX=Math.abs(deltaX),magnitudeY=Math.abs(deltaY);if(magnitudeY>magnitudeX){if(deltaY<0&&scrollTop===contentHeight-containerHeight||deltaY>0&&scrollTop===0)return!settings.swipePropagation}else if(magnitudeX>magnitudeY&&(deltaX<0&&scrollLeft===contentWidth-containerWidth||deltaX>0&&scrollLeft===0))return!settings.swipePropagation;return!0}function bindMouseWheelHandler(){var shouldPrevent=!1;function getDeltaFromEvent(e){var deltaX=e.originalEvent.deltaX,deltaY=-1*e.originalEvent.deltaY;return(typeof deltaX=="undefined"||typeof deltaY=="undefined")&&(deltaX=-1*e.originalEvent.wheelDeltaX/6,deltaY=e.originalEvent.wheelDeltaY/6),e.originalEvent.deltaMode&&e.originalEvent.deltaMode===1&&(deltaX*=10,deltaY*=10),deltaX!==deltaX&&deltaY!==deltaY&&(deltaX=0,deltaY=e.originalEvent.wheelDelta),[deltaX,deltaY]}function mousewheelHandler(e){if(!(!isWebkit&&$this.find("select:focus").length>0)){var delta=getDeltaFromEvent(e),deltaX=delta[0],deltaY=delta[1];shouldPrevent=!1,settings.useBothWheelAxes?scrollbarYActive&&!scrollbarXActive?(deltaY?$this.scrollTop($this.scrollTop()-deltaY*settings.wheelSpeed):$this.scrollTop($this.scrollTop()+deltaX*settings.wheelSpeed),shouldPrevent=!0):scrollbarXActive&&!scrollbarYActive&&(deltaX?$this.scrollLeft($this.scrollLeft()+deltaX*settings.wheelSpeed):$this.scrollLeft($this.scrollLeft()-deltaY*settings.wheelSpeed),shouldPrevent=!0):($this.scrollTop($this.scrollTop()-deltaY*settings.wheelSpeed),$this.scrollLeft($this.scrollLeft()+deltaX*settings.wheelSpeed)),updateGeometry(),shouldPrevent=shouldPrevent||shouldPreventWheel(deltaX,deltaY),shouldPrevent&&(e.stopPropagation(),e.preventDefault())}}typeof window.onwheel!="undefined"?$this.bind(eventClass("wheel"),mousewheelHandler):typeof window.onmousewheel!="undefined"&&$this.bind(eventClass("mousewheel"),mousewheelHandler)}function bindKeyboardHandler(){var hovered=!1;$this.bind(eventClass("mouseenter"),function(e){hovered=!0}),$this.bind(eventClass("mouseleave"),function(e){hovered=!1});var shouldPrevent=!1;$(ownerDocument).bind(eventClass("keydown"),function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented())&&hovered){for(var activeElement=document.activeElement?document.activeElement:ownerDocument.activeElement;activeElement.shadowRoot;)activeElement=activeElement.shadowRoot.activeElement;if(!$(activeElement).is(":input,[contenteditable]")){var deltaX=0,deltaY=0;switch(e.which){case 37:deltaX=-30;break;case 38:deltaY=30;break;case 39:deltaX=30;break;case 40:deltaY=-30;break;case 33:deltaY=90;break;case 32:case 34:deltaY=-90;break;case 35:e.ctrlKey?deltaY=-contentHeight:deltaY=-containerHeight;break;case 36:e.ctrlKey?deltaY=$this.scrollTop():deltaY=containerHeight;break;default:return}$this.scrollTop($this.scrollTop()-deltaY),$this.scrollLeft($this.scrollLeft()+deltaX),shouldPrevent=shouldPreventWheel(deltaX,deltaY),shouldPrevent&&e.preventDefault()}}})}function bindRailClickHandler(){function stopPropagation(e){e.stopPropagation()}$scrollbarY.bind(eventClass("click"),stopPropagation),$scrollbarYRail.bind(eventClass("click"),function(e){var halfOfScrollbarLength=getInt(scrollbarYHeight/2),positionTop=e.pageY-$scrollbarYRail.offset().top-halfOfScrollbarLength,maxPositionTop=containerHeight-scrollbarYHeight,positionRatio=positionTop/maxPositionTop;positionRatio<0?positionRatio=0:positionRatio>1&&(positionRatio=1),$this.scrollTop((contentHeight-containerHeight)*positionRatio)}),$scrollbarX.bind(eventClass("click"),stopPropagation),$scrollbarXRail.bind(eventClass("click"),function(e){var halfOfScrollbarLength=getInt(scrollbarXWidth/2),positionLeft=e.pageX-$scrollbarXRail.offset().left-halfOfScrollbarLength,maxPositionLeft=containerWidth-scrollbarXWidth,positionRatio=positionLeft/maxPositionLeft;positionRatio<0?positionRatio=0:positionRatio>1&&(positionRatio=1),$this.scrollLeft((contentWidth-containerWidth)*positionRatio)})}function bindSelectionHandler(){function getRangeNode(){var selection=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0};return selection.rangeCount===0?null:selection.getRangeAt(0).commonAncestorContainer}var scrollingLoop=null,scrollDiff={top:0,left:0};function startScrolling(){scrollingLoop||(scrollingLoop=setInterval(function(){if(!isPluginAlive()){clearInterval(scrollingLoop);return}$this.scrollTop($this.scrollTop()+scrollDiff.top),$this.scrollLeft($this.scrollLeft()+scrollDiff.left),updateGeometry()},50))}function stopScrolling(){scrollingLoop&&(clearInterval(scrollingLoop),scrollingLoop=null),$scrollbarXRail.removeClass("in-scrolling"),$scrollbarYRail.removeClass("in-scrolling")}var isSelected=!1;$(ownerDocument).bind(eventClass("selectionchange"),function(e){$.contains($this[0],getRangeNode())?isSelected=!0:(isSelected=!1,stopScrolling())}),$(window).bind(eventClass("mouseup"),function(e){isSelected&&(isSelected=!1,stopScrolling())}),$(window).bind(eventClass("mousemove"),function(e){if(isSelected){var mousePosition={x:e.pageX,y:e.pageY},containerOffset=$this.offset(),containerGeometry={left:containerOffset.left,right:containerOffset.left+$this.outerWidth(),top:containerOffset.top,bottom:containerOffset.top+$this.outerHeight()};mousePosition.x<containerGeometry.left+3?(scrollDiff.left=-5,$scrollbarXRail.addClass("in-scrolling")):mousePosition.x>containerGeometry.right-3?(scrollDiff.left=5,$scrollbarXRail.addClass("in-scrolling")):scrollDiff.left=0,mousePosition.y<containerGeometry.top+3?(containerGeometry.top+3-mousePosition.y<5?scrollDiff.top=-5:scrollDiff.top=-20,$scrollbarYRail.addClass("in-scrolling")):mousePosition.y>containerGeometry.bottom-3?(mousePosition.y-containerGeometry.bottom+3<5?scrollDiff.top=5:scrollDiff.top=20,$scrollbarYRail.addClass("in-scrolling")):scrollDiff.top=0,scrollDiff.top===0&&scrollDiff.left===0?stopScrolling():startScrolling()}})}function bindTouchHandler(supportsTouch2,supportsIePointer2){function applyTouchMove(differenceX,differenceY){$this.scrollTop($this.scrollTop()-differenceY),$this.scrollLeft($this.scrollLeft()-differenceX),updateGeometry()}var startOffset={},startTime=0,speed={},easingLoop=null,inGlobalTouch=!1,inLocalTouch=!1;function globalTouchStart(e){inGlobalTouch=!0}function globalTouchEnd(e){inGlobalTouch=!1}function getTouch(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function shouldHandle(e){var event=e.originalEvent;return!!(event.targetTouches&&event.targetTouches.length===1||event.pointerType&&event.pointerType!=="mouse"&&event.pointerType!==event.MSPOINTER_TYPE_MOUSE)}function touchStart(e){if(shouldHandle(e)){inLocalTouch=!0;var touch=getTouch(e);startOffset.pageX=touch.pageX,startOffset.pageY=touch.pageY,startTime=new Date().getTime(),easingLoop!==null&&clearInterval(easingLoop),e.stopPropagation()}}function touchMove(e){if(!inGlobalTouch&&inLocalTouch&&shouldHandle(e)){var touch=getTouch(e),currentOffset={pageX:touch.pageX,pageY:touch.pageY},differenceX=currentOffset.pageX-startOffset.pageX,differenceY=currentOffset.pageY-startOffset.pageY;applyTouchMove(differenceX,differenceY),startOffset=currentOffset;var currentTime=new Date().getTime(),timeGap=currentTime-startTime;timeGap>0&&(speed.x=differenceX/timeGap,speed.y=differenceY/timeGap,startTime=currentTime),shouldPreventSwipe(differenceX,differenceY)&&(e.stopPropagation(),e.preventDefault())}}function touchEnd(e){!inGlobalTouch&&inLocalTouch&&(inLocalTouch=!1,clearInterval(easingLoop),easingLoop=setInterval(function(){if(!isPluginAlive()){clearInterval(easingLoop);return}if(Math.abs(speed.x)<.01&&Math.abs(speed.y)<.01){clearInterval(easingLoop);return}applyTouchMove(speed.x*30,speed.y*30),speed.x*=.8,speed.y*=.8},10))}supportsTouch2&&($(window).bind(eventClass("touchstart"),globalTouchStart),$(window).bind(eventClass("touchend"),globalTouchEnd),$this.bind(eventClass("touchstart"),touchStart),$this.bind(eventClass("touchmove"),touchMove),$this.bind(eventClass("touchend"),touchEnd)),supportsIePointer2&&(window.PointerEvent?($(window).bind(eventClass("pointerdown"),globalTouchStart),$(window).bind(eventClass("pointerup"),globalTouchEnd),$this.bind(eventClass("pointerdown"),touchStart),$this.bind(eventClass("pointermove"),touchMove),$this.bind(eventClass("pointerup"),touchEnd)):window.MSPointerEvent&&($(window).bind(eventClass("MSPointerDown"),globalTouchStart),$(window).bind(eventClass("MSPointerUp"),globalTouchEnd),$this.bind(eventClass("MSPointerDown"),touchStart),$this.bind(eventClass("MSPointerMove"),touchMove),$this.bind(eventClass("MSPointerUp"),touchEnd)))}function bindScrollHandler(){$this.bind(eventClass("scroll"),function(e){updateGeometry()})}function destroy(){$this.unbind(eventClass()),$(window).unbind(eventClass()),$(ownerDocument).unbind(eventClass()),$this.data("perfect-scrollbar",null),$this.data("perfect-scrollbar-update",null),$this.data("perfect-scrollbar-destroy",null),$scrollbarX.remove(),$scrollbarY.remove(),$scrollbarXRail.remove(),$scrollbarYRail.remove(),$this=$scrollbarXRail=$scrollbarYRail=$scrollbarX=$scrollbarY=scrollbarXActive=scrollbarYActive=containerWidth=containerHeight=contentWidth=contentHeight=scrollbarXWidth=scrollbarXLeft=scrollbarXBottom=isScrollbarXUsingBottom=scrollbarXTop=scrollbarYHeight=scrollbarYTop=scrollbarYRight=isScrollbarYUsingRight=scrollbarYLeft=isRtl=eventClass=null}var supportsTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer=window.navigator.msMaxTouchPoints!==null;function initialize(){updateGeometry(),bindScrollHandler(),bindMouseScrollXHandler(),bindMouseScrollYHandler(),bindRailClickHandler(),bindSelectionHandler(),bindMouseWheelHandler(),(supportsTouch||supportsIePointer)&&bindTouchHandler(supportsTouch,supportsIePointer),settings.useKeyboard&&bindKeyboardHandler(),$this.data("perfect-scrollbar",$this),$this.data("perfect-scrollbar-update",updateGeometry),$this.data("perfect-scrollbar-destroy",destroy)}return initialize(),$this})}});
//# sourceMappingURL=/cdn/shop/t/3/assets/perfact-scrollbar.js.map?v=6756676268521279511560172282
